# bayeszh
naive bayes classifier for chinese
base on :
- [bayes: A Naive-Bayes classifier for node.js][1]
- [The Jieba Chinese Word Segmentation Implemented By Node.js][2]

[1]:https://github.com/ttezel/bayes
[2]:https://github.com/yanyiwu/nodejieba

windows 下使用 nodejieba 模块可能会有意外问题，请使用 Linux 或 macOS 

usage:
1. 下载模块
`npm install https://github.com/leekafai/bayeszh.git -S`
2. 将node_modules/bayeszh中的classifier.json文件移到./中。
` cp node_modules/bayeszh/classifier.json ./`
1. 写入以下代码(测试)
```javascript
// ./index.js
const bayes = require('bayeszh')
const fs = require('fs')
// 刚刚移动的分类器json文件在这里引入
const classifierJson = fs.readFileSync('./classifier.json')
const receiveClassifier = bayes.fromJson(classifierJson)
let p = []
let n = []
p.push('应该有两大目的：一是在经济上为力挺俄罗斯准备，俄罗斯遭受巨大压力，中国会力挺；二是在半岛问题上与俄罗斯协调，发挥中俄双方在半岛问题上的共同协调的作用。中俄在经济上合作，应该包含三个方面：一是在能源领域的合作，中国会购买更多俄罗斯的油气；二是在金融方面中俄会扩大合作，譬如油气用人民币进行结算的问题，特别是俄罗斯的石油到上海原油期货市场交易等等；三是在合作开发东北亚方面，中俄应展开合作，从现在情况看，东北亚局势有较长时期转好的态势，一旦转好中俄就可以就东北亚开发进行深度合作了。从中俄的合作预期我们就可以推导出，未来中国必然会更大规模从俄罗斯进口油气。中俄联手后，中美较量的较量的结果还是彼此妥协，特朗普明确说了让中国购买更多美国的天然气，这就意味着美国对中国让步的同时，中国大概率也会增加对美的天然气进口。美俄未来都可能增加对中国天然气进口，那么像澳大利亚、加拿大及中东一些国家，必然会因此受损。由此我们可以看出，中俄联手会迫使美国让步，中美妥协会造成美国盟友国家的损失······这将是一个很有趣的循环，美国的一些盟友将会在这样的中美贸易战中，逐渐感受到伤害。一方面是中俄联手对付')
p.push('《理性认识消息、数据对于行情的影响？》我们都知道，黄金原.油每周都有数据，一般情况下，每月有一次非农，原.油每周三都有EIA库存数据，黄金周四有初请数据。还有些次重要的数据及官员讲话，到底怎么结合数据来做单。　　　　稳健者每次数据以前最好保持空仓，不要想当然的预测数据来做单，这样做单纯粹是赌博，一般数据出来之后，先观望，防止数据发生诱多或诱空，所以不要盲目的去跟数据，还是要集合具体的技术层面来分析，第一单宁愿错过，也不要出现扫单或者单子被套，第二波行情可以大胆的去做单，做单是急不来的，一般大数据至少有两波行情。　　　　消息层面对于行情行情行情走势来说，更多是起到推动、激发、辅助行情的作用或影响，远非直接对应的关系，而行情行情走势最核心的仍然是技术行情行情走势本身，通过技术行情行情走势，如何合理去看待数据以及应对行情的变化，经常跟大家说，别把数据当成唯一交易的衡量标准，尤其是数据本身对货币的影响还没有弄清楚之前，这点从这几次黄金行情的暴涨暴跌都与数据相反就可以看出，做单终究还是要回到技术层面，数据从来都只是一个辅助性的作用，如果你盲目的去跟风，那么亏损的是你，爆仓的还是你。')
p.push('【杨凯论金赠言】1.投资不要稀里糊涂，要知道赚是怎么赚的，亏又是怎样亏的，找到原因，才能借鉴方法，才能吸取教训；否则，你的最终结果必定是被这个市场淘汰；2.你或者你目前的老师是否有一个相对成熟的操作模式，如果没有，你要拿什么来保证你的长期获利？这就是我经常强调的交易系统的问题，没有一个详细的交易计划，一遇到突发状况就慌乱，不可能达到预先想要的盈利目的；3.如果你的老师是我，那么操作请严格按照我的要求，严格止损，不要随意放大或缩小止损，不要贪心，如果你的老师不是我，若你愿意跟随，那我必将倾力奉献，我希望成功能从我们的结识开始！有机会享有杨老师亲自的带盘操作。   明白这句话意思的朋友，就应该知道接下来怎么做了，目前多单大家继续持有上?看，杨老师用实力证明一切，我也或许是你的引路人，也是一位值得信赖的朋友指导老师，如果你处于亏损，如果你目前还很迷茫。又或者账户得不到稳定盈利！又或者是生活上有什么不如意，那么不妨停下脚步来跟杨凯交流下，情感的交流，人事的交流，或许能够打开你的心结，或许这是你的转机，给彼此一个机会，也给成功一个契机。别让亏损继续吞噬你的资金，辛辛苦苦赚来的钱不容易。')
p.push('女人装*起来真的要命，上周五我分析1小时线技术面反弹都盈利9美金了结了，这人扛亏损8，9美金，我好心劝这人不要扛单，金融市场不是自己家开的？就这样一句直白的劝告，哎哟这周黄金下来了（当然我也做空了），解套有微利了，啧啧不得了了，又是截图我账号讽刺我，接着你看又在自己那接二连三地发布哗众取宠来获得心理慰藉，几个人站她这边捧着可算是出气了，哈哈，我就笑笑不说话。有时候智商真的是好东西，我这边实时给单子要需要一分钱？我知道她被国内黑平台坑过，可恨之人必有可怜之处嘛。理论不过就靠无脑黑，懂的人都心照不宣，无理者的癫狂罢了。智者与智者为伍，不去计较。另外，因为有傻子会说嘛，你都投资随便赚钱了，还干嘛在金十喊单。当然我不是解释给傻子听的，只是说下我的情况。一方面我自己上财毕业后在国际前三某投行做过交易，现在也是那里经纪关系而已，我不做广告，之前大号都是大家觉得我分析不错想方设法弄到我的，那就实现共赢嘛。另一方面，从平时纯交易转到老师位置上，在金十发策略或者或者怎样好，让自己思考以及实盘都更加审慎，是良性循环。交给别人的才是自己内化的。大号无故躺了，股指金油分析以后看这，尤其股指90%胜率')
n.push('之前做股票，15年新年起股市的熔断出台后，短时间内资金腰砍了一半，多年的辛苦钱一夜成为泡影了，现在想起那段黑暗的时间是多么的伤痛凄凉。就到黄金原油白银市场产品去做想着能转个好运气的，希望能在这个市场找回自己去投资失去的信心和亏损，结果自己是赔了夫人又折兵了，做得不好就换一个平台换一个老师的，每次换一个平台就是一个全新的老师，一个陌生的操作思路。从开始一点一点的亏损，不断去追加资金操作，偶尔盈利的是小获利，但亏损的总是大份额，我总是用自己的辛苦钱去证明老师观点。每天熬夜对着行情，没日没夜的重复看盘操作，到最后得到的又是什么？直到遇到现在的老师我才懂得如何控制仓位，如何利用仓位控制风险，老师很有责任心实力也很棒，看这么多人都在推荐老师，我也推荐我的老师：405-131-970，薇芯zhuhx686')
n.push('若手上有套单或投资不顺造成亏损的朋友，我会给出最中肯的建议和分析思路，为你解答投资路上遇到的困惑 官方个人指导威信：【kdj049】获取每日投资获利资讯 行情走势分析，交易策略指导市场有风险，投资需谨慎。盘中行情即时变化，请请重视实时分析')
n.push('全力以赴可能是我们大部分人都会向往的一种状态，努力了可能还是没有得到结果，但不努力就一定不会有结果。做交易也是同样的道理，不轻易去动摇的自己分析观点，不轻易去冒风险交易，稳扎稳打去做好每一项分析工作，去呵护我们的投资者，一直以来都是把我们的实时思路及时公布，下半夜行情受美国官员发言影响，加上期货交投量的增多，黄金行情瞬间下挫5美金。手上有【抗单 套单 锁单】的朋友可以找我聊聊V⑨⑧②⓪❹❷4⑷⑶')
n.push('正真的勇士敢于挑战惨淡的人生，敢于面对淋漓的鲜血，很多投资朋友感叹，生活是如此的艰难，每次的交易都令你期待，过程让你紧张，结果让你痛心。 一次又一次的不甘，一次又一次的悔恨 贪心——赚钱的单子最后亏损 胆小——盈利拿不住 激进——过于频繁交易 侥幸——不止损，亏了死扛 赌博——重仓 寄语：任何的投资都是风控之后的投机，计划和方案是贯彻执行的基础，实时行情分析及策略建议是局部的战略，交易风控跟踪是决定盈利的前提。实时行情分析/策略建议/交易跟踪/风控提示(套单/锁单指导v信493911211)')

// positive 不是广告

p.forEach((text) => {
  if (receiveClassifier.categorize(text) === 'positive') {
    console.log('不是广告:', text + '\n')
  }
})
console.log('======')
// negative 是广告
n.forEach((text) => {
  if (receiveClassifier.categorize(text) === 'negative') {
    console.log('是广告:', text + '\n')
  }
})
```

4. 运行测试
`node index.js`

5. 直接使用
```javascript
const bayes = require('bayeszh')
const fs = require('fs')
const classifierJson = fs.readFileSync('./classifier.json')
const receiveClassifier = bayes.fromJson(classifierJson)
receiveClassifier.categorize(text)
```